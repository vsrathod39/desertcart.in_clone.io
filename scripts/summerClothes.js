let productData = [
    {
        image: "https://m.media-amazon.com/images/I/71OhHJi+72L.jpg",
        name: "Men's 2 Piece Tracksuit,Menâ€™s Summer 2-Piece Beach Cotton Linen Short Sleeve Shirts & Shorts Pants Sets",
        brand: "kouzhaoa",
        rating: "3.9",
        price: "4919",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/5111U5C9NVL.jpg",
        name: "Men's Casual Long Pants Linen Pants - Loose Lightweight Casual Trousers Summer Yoga Beach Trousers",
        brand: "percle",
        rating: "3.6",
        price: "4609",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/91vNaFnBJES.jpg",
        name: "EUOW Men's Hawaiian Shirt Short Sleeves Printed Button Down Summer Beach Dress Shirts",
        brand: "euow",
        rating: "4.5",
        price: "4729",
        origin: "UK"
    },
    {
        image: "https://m.media-amazon.com/images/I/61yrclbiu2S.jpg",
        name: "Vintage Shirts for Men Striped Short Sleeve Hawaiian Shirt Summer Button Down T Shirt Relaxed-Fit Casual Beach Tops",
        brand: "zhuer",
        rating: "3.2",
        price: "2589",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/81v6P5f0+aL.jpg",
        name:"YOMOVER Mens Shorts Basketball Pack 9 inch Athletic Workout Gym Running Home Quick Dry Shorts for Men with Pockets",
        brand: "Yomover",
        rating: "4.4",
        price: "6229",
        origin: "USA",
    },
    {
        image: "https://m.media-amazon.com/images/I/61ilzGwJgOL.jpg",
        name:"Men UA Tech 2.0 SS Tee Novelty, Sports T-Shirt, Gym Clothes",
        brand: "Under Armour",
        rating: "4.6",
        price: "5689",
        origin: "UK",
    },
    {
        image: "https://m.media-amazon.com/images/I/51HsjwcwrRL.jpg",
        name: 'maamgic Mens Athletic Gym Shorts 5.5"' +" Elastic Waist Casual Pajama Pocket Jogger Men Workout Short Pants",
        brand: "Maamgic",
        rating: "4.6",
        price: "5219",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/81SaNXM08WS.jpg",
        name: "Men's Luxury Casual Button Down Short Sleeve Hawaiian Shirt Suits",
        brand: "Daupanzees",
        rating: "4.5",
        price: "9479",
        origin: "DC"
    },
    {
        image: "https://m.media-amazon.com/images/I/71oOfcIVEfL.jpg",
        name: 'Amazon Essentials Men'+"'s" + ' Slim-Fit 9"' + "Short",
        brand: "Amazon Essentials",
        rating: "4.4",
        price: "3379",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/81XbZCP9uPL.jpg",
        name: "Amazon Essentials Men's Slim-fit Tank Top",
        brand: "Amazon Essentials",
        rating: "4.5",
        price: "2369",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/61Be-ri8CkS.jpg",
        name: "Mens Personality Sport Set Summer Outfit 2 Piece Set Short Sleeve T Shirts and Shorts Stylish Casual Sweatsuit Set",
        brand: "Sirou",
        rating: "3.1",
        price: "7049",
        origin: "DC"
    },
    {
        image: "https://m.media-amazon.com/images/I/61yX-skN5dL.jpg",
        name: "LucMatton Men's African Pattern Printed T-Shirt and Shorts Set Sports Mesh Tracksuit Dashiki Outfits",
        brand: "Lucmatton",
        rating: "4.3",
        price: "8859",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/81x6dAtZGoL.jpg",
        name: "CHARM Extra Slouchy Summer Beanie for Men - Women Baggy Hipster Knit Cotton Slouch Hat",
        brand: "Charm",
        rating: "4.3",
        price: "4429",
        origin: "USA"
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/91m2bYzGCxL.SS150.jpg",
        name: "Saucony Men's Multi-Pack Mesh Ventilating Comfort Fit Performance No-Show Socks",
        brand: "Saucony",
        rating: "4.6",
        price: "2399",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/61WjFrh4lLL.jpg",
        name: "Hanes Men's Long Sleeve Cool Dri T-Shirt UPF 50+ (Pack of 2)",
        brand: "Hanes",
        rating: "4.5",
        price: "3039",
        origin: "USA"
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/519QmwYDLpL.SS150.jpg",
        name: "FASKUNOIE Men's Cotton Casual Shorts 3/4 Jogger Capri Pants Breathable Below Knee Short Pants with Three Pockets",
        brand: "Faskunoie",
        rating: "4.4",
        price: "4609",
        origin: "India"
    },
    {
        image: "https://m.media-amazon.com/images/I/81nnx0PsJbL.jpg",
        name: "Men's Coolzone Boxer Briefs",
        brand: "Fruit Of The Loom",
        rating: "4.7",
        price: "3559",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/81Zh2hdzG3L.jpg",
        name: "Calvin Klein Men's Cotton Stretch Multipack Crew Neck T-Shirts",
        brand: "Calvin Klein",
        rating: "4.6",
        price: "4139",
        origin: "USA"
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71pItb%2BS7qL.SS150.jpg",
        name: "5 Pack: Men's Mesh Athletic Performance Gym Shorts with Pockets (S-3X)",
        brand: "Real Essentials",
        rating: "4.2",
        price: "5309",
        origin: "USA"
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71cW-BL5AnL.SS150.jpg",
        name: "Amazon Essentials Men's Waffle Shawl Robe",
        brand: "Amazon Essentials",
        rating: "4.6",
        price: "4159",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/61B67nP1msL.jpg",
        name: "Fitness Running Compression Suits Shirt Pants Short Pack Of 3 For Men",
        brand: "Other",
        rating: "3.5",
        price: "2009",
        origin: "India"
    }
];

let productData2 = [
    {
        image: "https://m.media-amazon.com/images/I/71g+JfQTkqL.jpg",
        name: "Womens Fall Clothes Stitching Geo Stripe Print Coat Oversized Loose Pocket Top Lapel Long-Sleeve Button Tunic",
        brand: "Afelkas",
        rating: "",
        price: "4679",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/71YeeqEsD-S.jpg",
        name: "Amazon Essentials Women's Tank Swing Dress",
        brand: "Amazon Essentials",
        rating: "4.4",
        price: "4389",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/71QiwI8Mh9S.jpg",
        name: "Dokuritu Women's Beach Crochet Lace Maxi Dress Summer Spaghetti Strap Maxi Dress",
        brand: "Dokuritu",
        rating: "4",
        price: "6249",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/51fvkDWuH4L.jpg",
        name: "Women's 50s 60s Vintage Sleeveless V-Neck Cocktail Swing Dress",
        brand: "Grace Karin",
        rating: "4.3",
        price: "6299",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/71wRLHGkumS.jpg",
        name: "Womens Dresses Elegant Ruffles Cap Sleeves Summer A-Line Midi Dress",
        brand: "Ecowish",
        rating: "4",
        price: "6769",
        origin: "India"
    },
    {
        image: "https://m.media-amazon.com/images/I/81XDGPZwdYL.jpg",
        name: "SheIn Women's Deep V-Neck Short Sleeve Tie Front Floral Print Ruffle Hem Dress",
        brand: "Shein",
        rating: "3.8",
        price: "3729",
        origin: "UK"
    },
    {
        image: "https://m.media-amazon.com/images/I/61chrqCkskL.jpg",
        name: "Womens White Dresses Short Sleeve V Neck Ruffle Cute Sun Dress Chiffon Flowy Shift Mini Dress",
        brand: "Blooming Jelly",
        rating: "4",
        price: "8669",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/71BMBNwDWyL.jpg",
        name: "Women Denim Shirt Dresses Short Sleeve Distressed Jean Dress Button Down Casual Tunic Top",
        brand: "Zilcremo",
        rating: "3.8",
        price: "7449",
        origin: "Uk"
    },
    {
        image: "https://m.media-amazon.com/images/I/71xxyK6dqQS.jpg",
        name: "Summer Casual Tshirt Dresses for Women Swing Sun Dress Beach Swimsuit Cover Ups with Pockets",
        brand: "moskill",
        rating: "4.2",
        price: "4809",
        origin: "USA"
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/61fTwyrYMqL.SS150.jpg",
        name: "Womens Summer Midi Dress Striped Short Sleeve Dresses Side Split Casual Waist Gowns",
        brand: "vonda",
        rating: "3.4",
        price: "1349",
        origin: "DC"
    },
    {
        image: "https://m.media-amazon.com/images/I/615oUasaNKL.jpg",
        name: "Blooming Jelly Women's Halter Neck Deep V Asymmetrical Floral Dress Lace Summer Maxi Dress",
        brand: "Blooming Jelly",
        rating: "4",
        price: "6189",
        origin: "UK"
    },
    {
        image: "https://m.media-amazon.com/images/I/51ZXzbnw9lL.jpg",
        name: "Women's Pleated Dress (White)",
        brand: "Norah",
        rating: "2.8",
        price: "2159",
        origin: "India"
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71suU%2BE1K2S.SS150.jpg",
        name: "Women's Polyester Western Dress",
        brand: "Meloso",
        rating: "3.8",
        price: "1289",
        origin: "India"
    },
    {
        image: "https://m.media-amazon.com/images/I/71yNQWMEG4S.jpg",
        name: "KILIG Women's Sleeveless/Long Sleeve Dresses Casual Button Down Summer Dress with Pockets",
        brand: "kilig",
        rating: "4.1",
        price: "19779",
        origin: "UK"
    },
    {
        image: "https://m.media-amazon.com/images/I/71E2X80sLML.jpg",
        name: "Roman Originals Women Contrast Print Hanky Hem Dress - Ladies Summer Holiday Beach Casual Everyday Comfort Garden Party BBQ Sleeveless Asymmetric Pull On Jersey Dress",
        brand: "Roman Originals",
        rating: "4.7",
        price: "9749",
        origin: "UK"
    },
    {
        image: "https://m.media-amazon.com/images/I/71C3Ox89u3L.jpg",
        name: "Women's Summer Wrap V Neck Polka Dot Print Ruffle Short Sleeve Mini Floral Dress with Belt",
        brand: "Naggoo",
        rating: "4.1",
        price: "4539",
        origin: "USA"
    },
    {
        image: "https://m.media-amazon.com/images/I/71hwiN0YWLL.jpg",
        name:"MEROKEETY Women's Summer Striped Short Sleeve T Shirt Dress Casual Tie Waist Midi Dress",
        brand: "Merokeety",
        rating: "4.4",
        price: "8859",
        origin: "USA",
    }
]

let menContainer = document.getElementById("menContainer");
let womenContainer = document.getElementById("womenContainer");

// function used to showProducts Data from an array named productData to html clothes page
function showProducts(product, containerId){
    containerId.innerHTML = null;
    if(product.length == 0){
        containerId.textContent = "No match found..."
    }

    product.forEach(function (element) {
        let productBox = document.createElement("div");
        productBox.setAttribute("id", element.image);
        productBox.setAttribute("class", "productBox")
        productBox.onclick = function(){
            changePage(this);
        }

        let productImg =  document.createElement("img");
        productImg.src = element.image;

        let textBox = document.createElement("div");
        textBox.setAttribute("class", "textBox");

        let productName = document.createElement("p");
        productName.textContent = element.name;

        let productBrand = document.createElement("p");
        productBrand.classList.add("textGreyColor");
        productBrand.textContent = "By " + element.brand;
        textBox.append(productName);

        let productWrapper = document.createElement("div");
        productWrapper.setAttribute("class", "productWrapper");

        let wrapperInnerDiv = document.createElement("div");
        let productRating = document.createElement("p");
        productRating.textContent = "â˜… " + element.rating;

        let productPrice = document.createElement("p");
        productPrice.setAttribute("id", "textPrice");
        productPrice.textContent = "â‚¹ " + element.price[0] +  "," + element.price.substring(1, element.price.length);
        wrapperInnerDiv.append(productRating, productPrice);

        let wrapperInnerDiv2 = document.createElement("div");
        wrapperInnerDiv2.classList.add("origin", "textGreyColor");

        let productOrigin = document.createElement("p");
        productOrigin.textContent = "from " + element.origin;

        let productShipping = document.createElement("p");
        productShipping.textContent = "to INDIA";

        let productShipDate = document.createElement("p");
        productShipDate.textContent = "in 9-15 days"
        wrapperInnerDiv2.append(productOrigin, productShipping, productShipDate);

        productWrapper.append(wrapperInnerDiv, wrapperInnerDiv2);
        productBox.append(productImg, textBox, productBrand, productWrapper);
        containerId.append(productBox);
    });
}

showProducts(productData, menContainer);
showProducts(productData2, womenContainer);

let sortPrice = document.getElementById("price");
sortPrice.addEventListener("change", sortByPrice);
let sortCountry = document.getElementById("country");
sortCountry.addEventListener("change", sortByCountry);
let sortRating = document.getElementById("rating");
sortRating.addEventListener("change", sortByRating)

function sortByPrice(){
    let menArr = [];
    let womenArr = [];

    switch(this.value){
        case "any":
            showProducts(productData, menContainer);
            showProducts(productData2, womenContainer);
            break;
        case "upto2000":
            
            productData.forEach(function(element){
                if(element.price >= 0 && element.price <= 2000)
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.price >= 0 && element.price <= 2000)
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "upto5000":
            
            productData.forEach(function(element){
                if(element.price > 2000 && element.price <= 5000)
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.price > 2000 && element.price <= 5000)
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "upto10000":
            
            productData.forEach(function(element){
                if(element.price > 5000 && element.price <= 10000)
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.price > 5000 && element.price <= 10000)
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "moreThan10000":
            
            productData.forEach(function(element){
                if(element.price > 10000)
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.price > 10000)
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
    }

}

function sortByCountry(){
    let menArr = [];
    let womenArr = [];

    switch(this.value){
        case "any":
            showProducts(productData, menContainer);
            showProducts(productData2, womenContainer);
            break;
        case "uk":
            
            productData.forEach(function(element){
                if(element.origin == "UK")
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.origin == "UK")
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "usa":
            
            productData.forEach(function(element){
                if(element.origin == "USA")
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.origin == "USA")
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "india":
            
            productData.forEach(function(element){
                if(element.origin == "India")
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.origin == "India")
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "dc":
            
            productData.forEach(function(element){
                if(element.origin == "DC")
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.origin == "DC")
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
    }   
}

function sortByRating(){
    let menArr = [];
    let womenArr = [];

    switch(this.value){
        case "any":
            showProducts(productData, menContainer);
            showProducts(productData2, womenContainer);
            break;
        case "High-Low":
            menArr = productData.sort( (a, b) => {return b.rating - a.rating});
            womenArr = productData2.sort( (a, b) => {return b.rating - a.rating})
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "Low-High":
            menArr = productData.sort( (a, b) => {return a.rating - b.rating});
            womenArr = productData2.sort( (a, b) => {return a.rating - b.rating})
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
        case "4to5":
            
            productData.forEach(function(element){
                if(element.rating >= 4)
                 menArr.push(element);
            });
            
            productData2.forEach(function(element){
                if(element.rating >= 4)
                womenArr.push(element);
            });
            showProducts(menArr, menContainer);
            showProducts(womenArr, womenContainer);
            break;
    }  
}
// adding Item to cart dataBase and switch page
if(localStorage.getItem("disertCurrentItem") === null){
    localStorage.setItem("disertCurrentItem", JSON.stringify([]));
}
function changePage(e){
    let flag = true;
    let itemArr = JSON.parse(localStorage.getItem("disertCurrentItem"));
    productData.forEach(function(pr){
        if(pr.image == e.id){
            flag = false;
            if(itemArr.length != 0){
                itemArr.pop();
            }
            itemArr.push(pr);
        }
    })
    if(flag){
        productData2.forEach(function (pr){
            if(pr.image == e.id){
                flag = false;
                if(itemArr.length != 0){
                    itemArr.pop();
                }
                itemArr.push(pr);
            }
        })
    }
    itemArr[0].quantity = 1;
    itemArr[0].itemPrice = itemArr[0].price;
    localStorage.setItem("disertCurrentItem", JSON.stringify(itemArr));
    window.location.href = "productReview.html"
}